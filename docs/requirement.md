# Chrome拡張機能「動画音声文字起こしツール」要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
動画音声文字起こしツール（Chrome Extension）

### 1.2 目的
Chromeブラウザのアクティブタブで再生される動画コンテンツの音声をリアルタイムで録音・文字起こしし、テキストデータとしてGoogle Driveに自動保存する拡張機能を開発する。

### 1.3 主要な利用シーン
- YouTubeの長時間動画（講義、セミナー等）の文字起こし
- Webinarの内容記録
- Zoomアーカイブ動画の議事録作成
- その他Webサイト上の動画コンテンツの文字起こし

## 2. 機能要件

### 2.1 基本機能

#### 2.1.1 音声録音機能
- **対象**: Chromeのアクティブタブで再生中の音声
- **録音範囲**: タブ内のすべての音声（動画音声、システム音声等）
- **録音時間**: 2時間以上の長時間録音に対応
- **処理方式**: 連続処理（分割なし）

#### 2.1.2 リアルタイム文字起こし機能
- **実行タイミング**: 録音と同時にリアルタイム処理
- **精度レベル**: ある程度の精度（ビジネス利用可能レベル）
- **専門用語対応**: ビジネス用語、専門用語への対応
- **話者識別**: 不要（単一テキストストリームとして処理）

#### 2.1.3 多言語対応
- **対応言語**: 多言語対応（日本語、英語、その他主要言語）
- **言語検出**: 自動言語検出機能
- **混在対応**: 1つの動画内での多言語混在への対応

### 2.2 データ管理機能

#### 2.2.1 保存機能
- **保存先**: Google Drive
- **保存方式**: 事前設定フォルダへの自動保存
- **保存形式**: テキストファイル（.txt）
- **保存期間**: 永続保存
- **確認**: 保存時の確認ダイアログなし

#### 2.2.2 ファイル命名規則
- **命名形式**: `[日時]_[動画タイトル]_transcript.txt`
- **日時形式**: `YYYY-MM-DD_HH-MM-SS`
- **文字制限**: ファイル名の長さ制限への対応

### 2.3 ユーザーインターフェース

#### 2.3.1 拡張機能操作
- **起動方法**: ツールバーアイコンクリック
- **録音操作**: ワンクリックで開始・停止
- **状態表示**: 録音中/停止中の視覚的表示
- **通知**: 処理完了通知のみ（進捗バー不要）

#### 2.3.2 設定画面
- **Google Drive設定**: 認証・保存先フォルダ指定
- **文字起こしエンジン選択**: 複数エンジンからの選択機能
- **言語設定**: デフォルト言語の指定
- **品質設定**: 文字起こし品質レベルの調整

## 3. 技術要件

### 3.1 対応ブラウザ
- **主要対象**: Google Chrome（最新版）
- **副次対象**: Chromiumベースブラウザ（Microsoft Edge、Brave等）
- **最低バージョン**: Chrome 88以上

### 3.2 文字起こしエンジン

#### 3.2.1 対応エンジン
1. **Google Speech-to-Text API**
   - 高精度、多言語対応
   - 有料サービス

2. **OpenAI Whisper API**
   - 高精度、優秀な多言語対応
   - 有料サービス

#### 3.2.2 エンジン選択機能
- ユーザーが設定画面で選択可能
- APIキーの管理機能
- エンジン切り替え機能

### 3.3 必要なAPIアクセス権限
- **タブアクセス**: `tabs`
- **アクティブタブ**: `activeTab`
- **音声キャプチャ**: `tabCapture`
- **ストレージ**: `storage`
- **通知**: `notifications`
- **外部API**: 文字起こしサービスへのアクセス

### 3.4 外部サービス連携
- **Google Drive API**: ファイル保存・フォルダ管理
- **OAuth 2.0**: Google認証
- **選択した文字起こしAPI**: 音声→テキスト変換

## 4. 非機能要件

### 4.1 性能要件
- **録音品質**: 16kHz以上のサンプリングレート
- **レスポンス**: 文字起こし結果の1秒以内表示
- **メモリ使用量**: 長時間録音時の適切なメモリ管理
- **CPU使用率**: バックグラウンド処理時の低CPU使用率

### 4.2 信頼性要件
- **稼働率**: 99%以上の動作安定性
- **エラーハンドリング**: ネットワーク断、API制限等への適切な対応
- **データ保護**: 録音データの適切な暗号化

### 4.3 セキュリティ要件
- **プライバシー**: ローカル音声データの適切な削除
- **認証**: Google Drive接続時の安全な認証
- **API管理**: 文字起こしAPIキーの安全な保存

### 4.4 ユーザビリティ要件
- **直感性**: 技術知識不要の簡単操作
- **視認性**: 録音状態の明確な表示
- **エラー表示**: 分かりやすいエラーメッセージ

## 5. 制約事項

### 5.1 技術的制約
- **ネットワーク依存**: 常時インターネット接続が必要
- **ブラウザ制限**: Chrome拡張機能の仕様制限
- **API制限**: 外部サービスの利用制限・料金制限

### 5.2 機能制約
- **競合対応**: 他の拡張機能との競合は考慮しない
- **検索機能**: 過去の文字起こし結果の検索機能は提供しない
- **編集機能**: 文字起こし結果の編集機能は提供しない

### 5.3 法的制約
- **著作権**: 録音対象コンテンツの著作権遵守
- **プライバシー**: 個人情報保護法への準拠
- **利用規約**: 各動画プラットフォームの利用規約遵守

## 6. 開発・運用要件

### 6.1 開発環境
- **言語**: JavaScript (ES6+), HTML5, CSS3
- **フレームワーク**: Chrome Extension Manifest V3
- **開発ツール**: Chrome Developer Tools
- **バージョン管理**: Git

### 6.2 テスト要件
- **単体テスト**: 各機能の個別テスト
- **結合テスト**: API連携、ファイル保存テスト
- **負荷テスト**: 長時間録音時の動作確認
- **ブラウザテスト**: 複数Chromiumブラウザでの動作確認

### 6.3 配布・更新
- **配布方法**: Chrome Web Store
- **自動更新**: Chrome拡張機能の自動更新機能
- **バージョン管理**: セマンティックバージョニング

## 7. 成功指標

### 7.1 機能指標
- 2時間の動画を問題なく文字起こし完了
- 文字起こし精度80%以上
- Google Driveへの自動保存成功率99%以上

### 7.2 ユーザビリティ指標
- 初回利用時の設定完了時間10分以内
- 録音開始から文字起こし開始まで5秒以内
- ユーザーサポート問い合わせ率5%以下

## 8. リスク管理

### 8.1 技術リスク
- **API変更**: 外部サービスのAPI仕様変更
- **ブラウザ更新**: Chrome仕様変更による動作不具合
- **対策**: 定期的な動作確認とアップデート対応

### 8.2 ビジネスリスク
- **API料金**: 使用量増加による予想外の料金発生
- **法的問題**: 著作権侵害等の法的リスク
- **対策**: 利用規約の明確化と適切な警告表示

---

**文書作成日**: 2025年6月2日  
**作成者**: プロジェクト要件定義チーム  
**承認者**: [承認者名]  
**次回レビュー予定**: [レビュー日程]